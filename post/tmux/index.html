<!doctype html><html lang=en><head><title>Tmux &ndash; thinking-space</title>
<meta name=description content="Programming is thinking not typing."><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=UTF-8><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.4/css/academicons.min.css integrity="sha512-IW0nhlW5MgNydsXJO40En2EoCkTTjZhI3yuODrZIc8cQ4h1XcF53PsqDHa09NqnkXuIe0Oiyyj171BqZFwISBw==" crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=https://cunfus.github.io/css/palettes/base16-dark.css><link rel=stylesheet href=https://cunfus.github.io/css/risotto.css><link rel=stylesheet href=https://cunfus.github.io/css/custom.css><link rel=icon href=https://cunfus.github.io/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://cunfus.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://cunfus.github.io/favicon-16x16.png><link rel=apple-touch-icon href=https://cunfus.github.io/apple-touch-icon.png><link rel=manifest href=https://cunfus.github.io/site.webmanifest></head><body><div class=page><header class=page__header><nav class="page__nav main-nav"><ul><li class=nomarker><h1 class=page__logo><a href=https://cunfus.github.io/ class=page__logo-inner>thinking-space</a></h1></li><li class=main-nav__item><a class=nav-main-item href=https://cunfus.github.io/about/ title>About</a></li><li class=main-nav__item><a class="nav-main-item active" href=https://cunfus.github.io/post/ title=Posts>Posts</a></li></ul></nav></header><section class=page__body><header class=content__header><h1>Tmux</h1></header><div class=content__body><p>按键约定：如 &lt;C-a> c 按键组合，需要先按下 Ctrl 和 a，松开后再按下 c。</p><p>命令前缀：如果程序是在 tmux 环境中运行的，需要一种方式告诉 tmux，某个操作是 tmux 去做而不是程序去做，这就是前缀键的作用。在这里，将前缀设置成 &lt;C-a>。</p><p>关于 Ctrl 键位</p><pre><code>Windows 下可以修改注册表，交换 CapsLk 和 Ctrl。
Manjaro 在 setting 里配置，交换 CapsLk 和 Ctrl。
这样一来，&lt;C-a&gt; 将是两个在物理位置上连续的按键。
</code></pre><h2 id=基础>基础</h2><p>tmux 三个关键概念层层嵌套：会话-窗口-面板</p><ul><li>会话：每个会话是一个独立的工作区，包含一个或多个窗口<ul><li><code>tmux</code> 启动一个新会话</li><li><code>tmux ls</code> 列出所有会话</li><li><code>tmux attach -t N</code> 登入序号为 N 的会话</li><li><code>tmux a</code> 登入最后一个会话</li><li><code>tmux kill-session -t N</code> 杀死序号为 N 的会话</li></ul></li><li>窗口：每个窗口相当于浏览器中的标签页，可以分割成多份面板<ul><li><code>&lt;C-a> w</code> 列出所有窗口</li><li><code>&lt;C-a> N</code> 跳转到第 N 个窗口</li><li><code>&lt;C-a> c</code> 创建一个新的窗口</li><li><code>&lt;C-a> ,</code> 重命名窗口</li><li><code>&lt;C-d></code> 关闭窗口</li><li><code>&lt;C-a> &lt;C-c></code> 创建新会话</li><li><code>&lt;C-a> d</code> 临时登出当前会话</li></ul></li><li>面板：面板将一个窗口分割为多个区域，每个面板是一个单独的交互式 shell 界面<ul><li><code>&lt;C-a> -</code> 水平分割</li><li><code>&lt;C-a> _</code> 垂直分割</li><li><code>&lt;C-a> &lt;方向></code> 切换到指定面板</li><li><code>&lt;C-a> &lt;C-方向></code> 调整面板边界</li><li><code>&lt;C-a> z</code> 缩放（zoom）/恢复 面板</li><li><code>&lt;C-a> [</code> 回滚屏幕</li></ul></li></ul><h2 id=结对编程>结对编程</h2><p>使用 tmux 结对编程的原理跟简单，只要两人登录到同一个会话就行了，两人将共享屏幕信息。</p><p>这样做的一个好处是，比起图形化桌面共享要节省不少网络带宽，因此低网速也能很好的工作。另一个好处来源于 tmux 自身，临时登出和再次登入的操作很方便。</p><h2 id=配置文件>配置文件</h2><p>推荐 <a href=https://github.com/gpakosz/.tmux>.tmux</a>。在安装 tmux 后，直接使用这份配置能省心不少。</p><p>搭配 zsh 使用，在 .tmux.conf 里将默认终端换成 zsh。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>set -g default-shell /bin/zsh
</span></span><span style=display:flex><span>set -g default-command /bin/zsh
</span></span></code></pre></div><h2 id=插件-会话恢复>插件-会话恢复</h2><p>通过 tmux 保留工作环境，帮助回忆思路。</p><ol><li>安装 tmux 插件管理器 <a href=https://github.com/tmux-plugins/tpm>tpm</a></li><li>安装插件 <a href=https://github.com/tmux-plugins/tmux-resurrect>tmux-resurrect</a></li><li>使用快捷键<ul><li><code>&lt;C-a> &lt;C-s></code> 保存</li><li><code>&lt;C-a> &lt;C-r></code> 恢复</li></ul></li></ol></div><footer class=content__footer></footer></section><section class=page__aside><div class=aside__about><div class=aside__about><span class=about__logo role=img>🍚</span>&nbsp;<h1 class=about__title>Cunfus</h1><p class=about__description>Programming is thinking not typing.</p></div><ul class=aside__social-links><li><a href=https://github.com/cunfus rel=me aria-label=GitHub title=GitHub><i class="fa-brands fa-github" aria-hidden=true></i></a>&nbsp;</li><li><a href=mailto:cunfuss@outlook.com rel=me aria-label=Email title=Email><i class="fa-solid fa-envelope" aria-hidden=true></i></a>&nbsp;</li></ul></div><hr><div class=aside__content><p>By Cunfus,
2024-06-28</p><hr>On this page:<nav id=TableOfContents><ol><li><a href=#基础>基础</a></li><li><a href=#结对编程>结对编程</a></li><li><a href=#配置文件>配置文件</a></li><li><a href=#插件-会话恢复>插件-会话恢复</a></li></ol></nav></div></section><footer class=page__footer><p class=copyright>© <a href=https://cunfus.github.io>Cunfus</a> 2024</p><p class=advertisement>Powered by <a href=https://gohugo.io/>hugo</a> and <a href=https://github.com/joeroe/risotto>risotto</a>.</p></footer></div></body></html>